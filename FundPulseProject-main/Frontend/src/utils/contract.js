import { ethers } from "ethers";

const CONTRACT_ADDRESS = "0x5FbDB2315678afecb367f032d93F642f64180aa3";
const CONTRACT_ABI =  
[0x6080604052348015600f57600080fd5b50611cd58061001f6000396000f3fe6080604052600436106100865760003560e01c8063278ecde111610059578063278ecde11461015e5780632afcf480146101875780633c1ab00f146101a3578063da35c664146101e0578063e081dbf91461020b57610086565b8063013cf08b1461008b5780630d61b519146100cf5780631367a1e8146100f857806322e2e12d14610135575b600080fd5b34801561009757600080fd5b506100b260048036038101906100ad9190610e8f565b610248565b6040516100c6989796959493929190610fb7565b60405180910390f35b3480156100db57600080fd5b506100f660048036038101906100f19190610e8f565b61035f565b005b34801561010457600080fd5b5061011f600480360381019061011a9190610e8f565b6105d5565b60405161012c919061105d565b60405180910390f35b34801561014157600080fd5b5061015c600480360381019061015791906111ad565b610608565b005b34801561016a57600080fd5b5061018560048036038101906101809190610e8f565b61079d565b005b6101a1600480360381019061019c9190610e8f565b610a64565b005b3480156101af57600080fd5b506101ca60048036038101906101c59190610e8f565b610d3d565b6040516101d791906112da565b60405180910390f35b3480156101ec57600080fd5b506101f5610de1565b60405161020291906112fc565b60405180910390f35b34801561021757600080fd5b50610232600480360381019061022d9190611343565b610de7565b60405161023f91906112fc565b60405180910390f35b60016020528060005260406000206000915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690806001018054610291906113b2565b80601f01602080910402602001604051908101604052809291908181526020018280546102bd906113b2565b801561030a5780601f106102df5761010080835404028352916020019161030a565b820191906000526020600020905b8154815290600101906020018083116102ed57829003601f168201915b5050505050908060020154908060030154908060040154908060050160009054906101000a900460ff16908060050160019054906101000a900460ff16908060050160029054906101000a900460ff16905088565b600060016000838152602001908152602001600020905080600301544210158061039157508060020154816004015410155b6103d0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103c79061142f565b60405180910390fd5b8060050160009054906101000a900460ff1615610422576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104199061149b565b60405180910390fd5b6000816004015411610469576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161046090611507565b60405180910390fd5b60018160050160006101000a81548160ff02191690831515021790555060008160050160026101000a81548160ff02191690831515021790555060018160050160016101000a81548160ff02191690831515021790555060008160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16826004015460405161050e90611558565b60006040518083038185875af1925050503d806000811461054b576040519150601f19603f3d011682016040523d82523d6000602084013e610550565b606091505b5050905080610594576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161058b906115b9565b60405180910390fd5b827f6cbfbb9b98ba7bb20bf4e76a5755fce5428cbeb7fdd7cd433fd3d63062476b8083600401546040516105c891906112fc565b60405180910390a2505050565b60026020528060005260406000206000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008081548092919061061a90611608565b9190505550600060016000805481526020019081526020016000209050338160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508381600101908161068b91906117fc565b5082816002018190555081426106a191906118ce565b816003018190555060008160050160006101000a81548160ff02191690831515021790555060008160050160016101000a81548160ff02191690831515021790555060018160050160026101000a81548160ff02191690831515021790555033600260008054815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000547f6c98a8c940418b35614f0cd02412d5c9606faff474cbb6cdd6640ba5d1a9f06b338686856003015460405161078f9493929190611902565b60405180910390a250505050565b6000600160008381526020019081526020016000209050806003015442116107fa576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107f19061199a565b60405180910390fd5b8060050160019054906101000a900460ff161561084c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161084390611a06565b60405180910390fd5b60008160060160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054116108d0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108c790611a72565b60405180910390fd5b60008160060160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905060008260060160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550808260040160008282546109719190611a92565b9250508190555060003373ffffffffffffffffffffffffffffffffffffffff168260405161099e90611558565b60006040518083038185875af1925050503d80600081146109db576040519150601f19603f3d011682016040523d82523d6000602084013e6109e0565b606091505b5050905080610a24576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a1b90611b12565b60405180910390fd5b837f7a482fdeb6bc9a1376f597068a214a7a39472bb2eff1b8cad21ba04f49ddca1b3384604051610a56929190611b32565b60405180910390a250505050565b600060016000838152602001908152602001600020905080600301544210610ac1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ab890611ba7565b60405180910390fd5b8060050160009054906101000a900460ff1615610b13576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b0a9061149b565b60405180910390fd5b60003411610b56576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b4d90611c13565b60405180910390fd5b8060050160029054906101000a900460ff16610ba7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b9e90611c7f565b60405180910390fd5b60008160060160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205403610c565780600701339080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b34816004016000828254610c6a91906118ce565b92505081905550348160060160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254610cc291906118ce565b92505081905550817f85e040b1b514c2f60555b8b931138cd55218c914496a8fcf822858bd240df4223334604051610cfb929190611b32565b60405180910390a28060020154816004015410610d395760018160050160016101000a81548160ff021916908315150217905550610d388261035f565b5b5050565b606060016000838152602001908152602001600020600701805480602002602001604051908101604052809291908181526020018280548015610dd557602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019060010190808311610d8b575b50505050509050919050565b60005481565b60006001600084815260200190815260200160002060060160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b610e6c81610e59565b8114610e7757600080fd5b50565b600081359050610e8981610e63565b92915050565b600060208284031215610ea557610ea4610e4f565b5b6000610eb384828501610e7a565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610ee782610ebc565b9050919050565b610ef781610edc565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610f37578082015181840152602081019050610f1c565b60008484015250505050565b6000601f19601f8301169050919050565b6000610f5f82610efd565b610f698185610f08565b9350610f79818560208601610f19565b610f8281610f43565b840191505092915050565b610f9681610e59565b82525050565b60008115159050919050565b610fb181610f9c565b82525050565b600061010082019050610fcd600083018b610eee565b8181036020830152610fdf818a610f54565b9050610fee6040830189610f8d565b610ffb6060830188610f8d565b6110086080830187610f8d565b61101560a0830186610fa8565b61102260c0830185610fa8565b61102f60e0830184610fa8565b9998505050505050505050565b600061104782610ebc565b9050919050565b6110578161103c565b82525050565b6000602082019050611072600083018461104e565b92915050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6110ba82610f43565b810181811067ffffffffffffffff821117156110d9576110d8611082565b5b80604052505050565b60006110ec610e45565b90506110f882826110b1565b919050565b600067ffffffffffffffff82111561111857611117611082565b5b61112182610f43565b9050602081019050919050565b82818337600083830152505050565b600061115061114b846110fd565b6110e2565b90508281526020810184848401111561116c5761116b61107d565b5b61117784828561112e565b509392505050565b600082601f83011261119457611193611078565b5b81356111a484826020860161113d565b91505092915050565b6000806000606084860312156111c6576111c5610e4f565b5b600084013567ffffffffffffffff8111156111e4576111e3610e54565b5b6111f08682870161117f565b935050602061120186828701610e7a565b925050604061121286828701610e7a565b9150509250925092565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6112518161103c565b82525050565b60006112638383611248565b60208301905092915050565b6000602082019050919050565b60006112878261121c565b6112918185611227565b935061129c83611238565b8060005b838110156112cd5781516112b48882611257565b97506112bf8361126f565b9250506001810190506112a0565b5085935050505092915050565b600060208201905081810360008301526112f4818461127c565b905092915050565b60006020820190506113116000830184610f8d565b92915050565b6113208161103c565b811461132b57600080fd5b50565b60008135905061133d81611317565b92915050565b6000806040838503121561135a57611359610e4f565b5b600061136885828601610e7a565b92505060206113798582860161132e565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806113ca57607f821691505b6020821081036113dd576113dc611383565b5b50919050565b7f43616e6e6f742065786563757465207965740000000000000000000000000000600082015250565b6000611419601283610f08565b9150611424826113e3565b602082019050919050565b600060208201905081810360008301526114488161140c565b9050919050565b7f416c726561647920657865637574656400000000000000000000000000000000600082015250565b6000611485601083610f08565b91506114908261144f565b602082019050919050565b600060208201905081810360008301526114b481611478565b9050919050565b7f4e6f2066756e647320746f207472616e73666572000000000000000000000000600082015250565b60006114f1601483610f08565b91506114fc826114bb565b602082019050919050565b60006020820190508181036000830152611520816114e4565b9050919050565b600081905092915050565b50565b6000611542600083611527565b915061154d82611532565b600082019050919050565b600061156382611535565b9150819050919050565b7f5472616e73666572206661696c65640000000000000000000000000000000000600082015250565b60006115a3600f83610f08565b91506115ae8261156d565b602082019050919050565b600060208201905081810360008301526115d281611596565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061161382610e59565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203611645576116446115d9565b5b600182019050919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b6000600883026116b27fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82611675565b6116bc8683611675565b95508019841693508086168417925050509392505050565b6000819050919050565b60006116f96116f46116ef84610e59565b6116d4565b610e59565b9050919050565b6000819050919050565b611713836116de565b61172761171f82611700565b848454611682565b825550505050565b600090565b61173c61172f565b61174781848461170a565b505050565b5b8181101561176b57611760600082611734565b60018101905061174d565b5050565b601f8211156117b05761178181611650565b61178a84611665565b81016020851015611799578190505b6117ad6117a585611665565b83018261174c565b50505b505050565b600082821c905092915050565b60006117d3600019846008026117b5565b1980831691505092915050565b60006117ec83836117c2565b9150826002028217905092915050565b61180582610efd565b67ffffffffffffffff81111561181e5761181d611082565b5b61182882546113b2565b61183382828561176f565b600060209050601f8311600181146118665760008415611854578287015190505b61185e85826117e0565b8655506118c6565b601f19841661187486611650565b60005b8281101561189c57848901518255600182019150602085019450602081019050611877565b868310156118b957848901516118b5601f8916826117c2565b8355505b6001600288020188555050505b505050505050565b60006118d982610e59565b91506118e483610e59565b92508282019050808211156118fc576118fb6115d9565b5b92915050565b6000608082019050611917600083018761104e565b81810360208301526119298186610f54565b90506119386040830185610f8d565b6119456060830184610f8d565b95945050505050565b7f50726f6a656374206973207374696c6c20616374697665000000000000000000600082015250565b6000611984601783610f08565b915061198f8261194e565b602082019050919050565b600060208201905081810360008301526119b381611977565b9050919050565b7f476f616c2077617320726561636865642c206e6f20726566756e647300000000600082015250565b60006119f0601c83610f08565b91506119fb826119ba565b602082019050919050565b60006020820190508181036000830152611a1f816119e3565b9050919050565b7f4e6f20636f6e747269627574696f6e20746f20726566756e6400000000000000600082015250565b6000611a5c601983610f08565b9150611a6782611a26565b602082019050919050565b60006020820190508181036000830152611a8b81611a4f565b9050919050565b6000611a9d82610e59565b9150611aa883610e59565b9250828203905081811115611ac057611abf6115d9565b5b92915050565b7f526566756e64206661696c656400000000000000000000000000000000000000600082015250565b6000611afc600d83610f08565b9150611b0782611ac6565b602082019050919050565b60006020820190508181036000830152611b2b81611aef565b9050919050565b6000604082019050611b47600083018561104e565b611b546020830184610f8d565b9392505050565b7f446561646c696e65207061737365640000000000000000000000000000000000600082015250565b6000611b91600f83610f08565b9150611b9c82611b5b565b602082019050919050565b60006020820190508181036000830152611bc081611b84565b9050919050565b7f4d7573742073656e642045544800000000000000000000000000000000000000600082015250565b6000611bfd600d83610f08565b9150611c0882611bc7565b602082019050919050565b60006020820190508181036000830152611c2c81611bf0565b9050919050565b7f50726f706f73616c206e6f742061637469766500000000000000000000000000600082015250565b6000611c69601383610f08565b9150611c7482611c33565b602082019050919050565b60006020820190508181036000830152611c9881611c5c565b905091905056fea26469706673582212200d1756bf1e083e745f3e51dbfe15d3ee2871c88ff921620719e521f01d41a6cc64736f6c634300081c0033];

export const getContract = () => {
  if (!window.ethereum) throw new Error("MetaMask not found");

  const provider = new ethers.providers.Web3Provider(window.ethereum);
  const signer = provider.getSigner();

  return new ethers.Contract(CONTRACT_ADDRESS, CONTRACT_ABI, signer);
};
